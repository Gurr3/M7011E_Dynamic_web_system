<!DOCTYPE html>
<html>

<script>
	<!-- var domain = "http://54.200.238.200:8080/";  -->
	var domain = "http://localhost:8080/";
	function register()
	{
	   xmlhttp = new XMLHttpRequest();
	   xmlhttp.open("POST",domain+"api/user/register", true);
	   xmlhttp.setRequestHeader('Content-Type', 'application/json');
	   xmlhttp.onreadystatechange=function(){
			 if (xmlhttp.readyState==4 && xmlhttp.status==200){
			   document.getElementById("string").innerHTML=xmlhttp.responseText;
			 }
	   }
	   xmlhttp.send(JSON.stringify({ "username":"John", "email":"John@john.com", "password":"supersecretpassword" } ));
	}
	
	function login()
	{
	   xmlhttp = new XMLHttpRequest();
	   xmlhttp.open("POST",domain+ "api/user/login", true);
	   xmlhttp.setRequestHeader('Content-Type', 'application/json');
	   xmlhttp.onreadystatechange=function(){
			 if (xmlhttp.readyState==4 && xmlhttp.status==200){
			   document.getElementById("string").innerHTML=xmlhttp.responseText;
			 }
	   }
	   xmlhttp.send(JSON.stringify({ "username":"John" , "password":"supersecretpassword" } ));
	}
	
	function me()
	{
	   xmlhttp = new XMLHttpRequest();
	   xmlhttp.open("GET", domain+ "api/user/me", true);
	   xmlhttp.setRequestHeader('Content-Type', 'application/json');
	   xmlhttp.onreadystatechange=function(){
			 if (xmlhttp.readyState==4 && xmlhttp.status==200){
			   document.getElementById("string").innerHTML=xmlhttp.responseText;
			 }
	   }
	   xmlhttp.send(JSON.stringify({ "token":"ABC123"} ));
	}
	
	function add()
	{
	   xmlhttp = new XMLHttpRequest();
	   xmlhttp.open("POST",domain+ "api/db/content/add", true);
	   xmlhttp.setRequestHeader('Content-Type', 'application/json');
	   xmlhttp.onreadystatechange=function(){
			 if (xmlhttp.readyState==4 && xmlhttp.status==200){
			   document.getElementById("string").innerHTML=xmlhttp.responseText;
			 }
	   }
	   xmlhttp.send(JSON.stringify({ "token":"ABC123", "level":"0", "parent":"", "content":["a","b","c"] } ));
	}
	
		function linkget()
	{
	   xmlhttp = new XMLHttpRequest();
	   xmlhttp.open("GET",domain+ "api/db/content/link", true);
	   xmlhttp.setRequestHeader('Content-Type', 'application/json');
	   xmlhttp.onreadystatechange=function(){
			 if (xmlhttp.readyState==4 && xmlhttp.status==200){
			   document.getElementById("string").innerHTML=xmlhttp.responseText;
			 }
	   }
	   xmlhttp.send(JSON.stringify({ "token":"ABC123", "key":"Justin Beiber"}));
	}
	
	function linkPost()
	{
	   xmlhttp = new XMLHttpRequest();
	   xmlhttp.open("POST",domain+ "api/db/content/link", true);
	   xmlhttp.setRequestHeader('Content-Type', 'application/json');
	   xmlhttp.onreadystatechange=function(){
			 if (xmlhttp.readyState==4 && xmlhttp.status==200){
			   document.getElementById("string").innerHTML=xmlhttp.responseText;
			 }
	   }
	   xmlhttp.send(JSON.stringify({ "token":"ABC123", "key1":"Justin Beiber", "key2":"Metallica"}));
	}
	
	function linkget()
	{
	   xmlhttp = new XMLHttpRequest();
	   xmlhttp.open("GET",domain+ "api/db/content/link", true);
	   xmlhttp.setRequestHeader('Content-Type', 'application/json');
	   xmlhttp.onreadystatechange=function(){
			 if (xmlhttp.readyState==4 && xmlhttp.status==200){
			   document.getElementById("string").innerHTML=xmlhttp.responseText;
			 }
	   }
	   xmlhttp.send(JSON.stringify({ "token":"ABC123", "key":"Justin Beiber"}));
	}
	
	function contentc()
	{
	   xmlhttp = new XMLHttpRequest();
	   xmlhttp.open("GET",domain+ "api/db/content/metallica", true);
	   xmlhttp.setRequestHeader('Content-Type', 'application/json');
	   xmlhttp.onreadystatechange=function(){
			 if (xmlhttp.readyState==4 && xmlhttp.status==200){
			   document.getElementById("string").innerHTML=xmlhttp.responseText;
			 }
	   }
	   xmlhttp.send(JSON.stringify({"hej":"hej"}));
	}
	
	function contentc_edit()
	{
	   xmlhttp = new XMLHttpRequest();
	   xmlhttp.open("POST",domain+ "api/db/content/metallica/edit", true);
	   xmlhttp.setRequestHeader('Content-Type', 'application/json');
	   xmlhttp.onreadystatechange=function(){
			 if (xmlhttp.readyState==4 && xmlhttp.status==200){
			   document.getElementById("string").innerHTML=xmlhttp.responseText;
			 }
	   }
	   xmlhttp.send(JSON.stringify({ "token":"ABC123", "parent":"0", "content":["I can has albums","album2"] }));
	}
	
	function contentc_rate()
	{
	   xmlhttp = new XMLHttpRequest();
	   xmlhttp.open("POST",domain+ "api/db/content/metallica/rate", true);
	   xmlhttp.setRequestHeader('Content-Type', 'application/json');
	   xmlhttp.onreadystatechange=function(){
			 if (xmlhttp.readyState==4 && xmlhttp.status==200){
			   document.getElementById("string").innerHTML=xmlhttp.responseText;
			 }
	   }
	   xmlhttp.send(JSON.stringify({ "token":"ABC123", "value":"4"}));
	}
	
	function contentc_review()
	{
	   xmlhttp = new XMLHttpRequest();
	   xmlhttp.open("POST",domain+ "api/db/content/metallica/review", true);
	   xmlhttp.setRequestHeader('Content-Type', 'application/json');
	   xmlhttp.onreadystatechange=function(){
			 if (xmlhttp.readyState==4 && xmlhttp.status==200){
			   document.getElementById("string").innerHTML=xmlhttp.responseText;
			 }
	   }
	   xmlhttp.send(JSON.stringify({"title":"Metallica is rocks", "review":"The title says it all"}));
	}

</script>


<body>
	<button onclick="register()">POST register</button>
	<button onclick="login()">POST login</button>
	<button onclick="me()">GET me, requires authentication</button>
	<button onclick="add()">POST add, requires authentication</button>
	<button onclick="linkget()">GET Link</button>
	<button onclick="linkPost()">POST Link</button>
	<button onclick="contentc()">GET contentc</button>
	<button onclick="contentc_edit()">POST edit</button>
	<button onclick="contentc_rate()">POST rate</button>
	<button onclick="contentc_review()">POST review</button>
	<p id="string">Press a button and see this text change with answer from server</p>
	<a href="/auth/google">Sign In with Google</a>
</body>
</html> 
